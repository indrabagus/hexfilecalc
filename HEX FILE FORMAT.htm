<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0038)http://www.keil.com/support/docs/1584/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>GENERAL: INTEL HEX FILE FORMAT</title><meta http-equiv="description" content="QUESTION: What is the Intel HEX file format? ANSWER: The Intel HEX file is an ASCII text file with lines of text that follow the Intel HEX file format. Each line in an Intel HEX file contains one HEX record. These records are made up of hexadecimal numbers that represent machine language code and..."><meta name="Description" content="QUESTION: What is the Intel HEX file format? ANSWER: The Intel HEX file is an ASCII text file with lines of text that follow the Intel HEX file format. Each line in an Intel HEX file contains one HEX record. These records are made up of hexadecimal numbers that represent machine language code and..."><meta name="KeilToolSet" content="Generic"><meta name="Keywords" content="intel,hex,file,format,hex386,hex286,eof"><meta http-equiv="content-language" content="en-us"><meta http-equiv="content-style-type" content="text/css"><meta name="Author" content="ARM Ltd and ARM Germany GmbH"><meta name="Copyright" content="Copyright (c) 2012, ARM Ltd and ARM Germany GmbH.  All rights reserved."><link rel="meta" href="http://www.keil.com/labels.xml" type="application/rdf+xml" title="ICRA labels"><link rel="stylesheet" type="text/css" href="./GENERAL  INTEL HEX FILE FORMAT_files/t6_ncm.css"><!--[if IE]><link rel="stylesheet" type="text/css" href="http://www.keil.com/_css/t6_nie.css"><![endif]--><link rel="stylesheet" type="text/css" href="./GENERAL  INTEL HEX FILE FORMAT_files/t6_cmn.css"><!--[if lt IE 7]><script src="http://www.keil.com/_js/t6_supersleight.js" type="text/javascript"></script><![endif]--><link rel="stylesheet" type="text/css" href="./GENERAL  INTEL HEX FILE FORMAT_files/t6_kb.css"></head><body><table class="Main" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="Top" colspan="2"><table><tbody><tr><td colspan="2"><table style="width:100%;border-spacing:0;height:50px"><tbody><tr><td style="width:151px;padding-left:14px"><img src="./GENERAL  INTEL HEX FILE FORMAT_files/arm.gif"></td><td style="color:#036;font:bold 20pt verdana,sans-serif;text-align:center">Technical Support</td><td style="width:151px;padding-right:14px"><img src="./GENERAL  INTEL HEX FILE FORMAT_files/keilarm.gif"></td></tr></tbody></table></td></tr><tr class="Menu"><td class="LMenu"><a title="Visit the Keil Home Page" href="http://www.keil.com/">Home</a> <a title="Get Information About Keil Products" href="http://www.keil.com/product/">Products</a> <a title="Download Keil products and files" href="http://www.keil.com/download/">Download</a> <a title="Upcoming Trade Shows, Workshops, and Seminars" href="http://www.keil.com/events/">Events</a> <a title="Get Technical Support for Keil Products" href="http://www.keil.com/support/">Support</a></td><td class="RMenu"><form name="keilsrchfm" id="keilsrchfm" method="get" action="http://www.keil.com/support/search.asp"><div><input type="hidden" name="PG" value="1"><input type="hidden" name="PX" value="1"><span style="font-size:7pt">Search knowledgebase for:</span> <input type="text" name="Q" size="20" style="font-family:verdana, sans-serif;font-size:7pt"> <input type="submit" value="Go" class="button"></div></form></td></tr></tbody></table></td></tr><tr><td class="Bar"><div id="vm"><p>Technical Support</p><ul><li><a href="http://www.keil.com/support/">Overview</a></li><li><a href="http://www.keil.com/support/search.asp">Search</a></li><li><a href="http://www.keil.com/support/contact.asp">Contact</a></li><li><a href="https://www.keil.com/support/request.asp">Assistance Request</a></li><li><a href="https://www.keil.com/support/feedback.asp">Feedback</a></li></ul><p>Support Resources</p><ul><li><a href="http://www.keil.com/support/knowledgebase.asp">Support Knowledgebase</a><ul><li><a href="http://www.keil.com/support/topics.asp">Article Index</a></li><li><a href="http://www.keil.com/support/topten.asp">Top 10 Articles</a></li></ul></li><li><a href="http://www.keil.com/support/man/">Product Manuals</a></li><li><a href="http://www.keil.com/appnotes/">Application Notes</a></li><li><a href="http://www.keil.com/download/">Downloads</a></li><li><a href="http://www.keil.com/update/">Product Updates</a></li><li><a href="http://www.keil.com/forum/">Discussion Forum</a></li><li><a href="http://www.keil.com/books/">Books</a></li></ul><p>Product Information</p><ul><li><a href="http://www.keil.com/product/">Software &amp; Hardware Products</a><ul><li><a href="http://www.keil.com/arm/">ARM Development Tools</a></li><li><a href="http://www.keil.com/c166/">C166 Development Tools</a></li><li><a href="http://www.keil.com/c51/">C51 Development Tools</a></li><li><a href="http://www.keil.com/c251/">C251 Development Tools</a></li><li><a href="http://www.keil.com/ulink/">Debug Adapters</a></li><li><a href="http://www.keil.com/boards/">Evaluation Boards</a></li></ul></li><li><a href="http://www.keil.com/product/brochures.asp">Product Brochures</a></li><li><a href="http://www.keil.com/product/newsletters.asp">Newsletters</a></li></ul></div></td><td class="Bdy"><div class="Bdy"><h1>GENERAL: INTEL HEX FILE FORMAT</h1><hr><p>Information in this article applies to:</p><ul><li>MDK-ARM All Versions</li><li>C166 All Versions</li><li>C251 All Versions</li><li>C51 All Versions</li></ul><hr><h3>QUESTION</h3><p>What is the Intel HEX file format?</p><h3>ANSWER</h3><p>The Intel HEX file is an ASCII text file with lines of text that follow the Intel HEX file format. Each line in an Intel HEX file contains one HEX record. These records are made up of hexadecimal numbers that represent machine language code and/or constant data. Intel HEX files are often used to transfer the program and data that would be stored in a ROM or EPROM. Most EPROM programmers or emulators can use Intel HEX files.</p><h4>Record Format</h4><p>An Intel HEX file is composed of any number of HEX records. Each record is made up of five fields that are arranged in the following format:</p>

<pre>:llaaaatt[dd...]cc
</pre>

<p>Each group of letters corresponds to a different field, and each letter represents a single hexadecimal digit. Each field is composed of at least two hexadecimal digits-which make up a byte-as described below:</p><ul><li><b>:</b> is the colon that starts every Intel HEX record.</li><li><b><i>ll</i></b> is the record-length field that represents the number of data bytes (<b>dd</b>) in the record.</li><li><b><i>aaaa</i></b> is the address field that represents the starting address for subsequent data in the record.</li><li><b><i>tt</i></b> is the field that represents the HEX record type, which may be one of the following:<br><b>00</b> - data record<br><b>01</b> - end-of-file record<br><b>02</b> - extended segment address record<br><b>04</b> - extended linear address record<br><b>05</b> - start linear address record (MDK-ARM only)</li><li><b><i>dd</i></b> is a data field that represents one byte of data. A record may have multiple data bytes. The number of data bytes in the record must match the number specified by the <b>ll</b> field.</li><li><b><i>cc</i></b> is the checksum field that represents the checksum of the record. The checksum is calculated by summing the values of all hexadecimal digit pairs in the record modulo 256 and taking the two's complement.</li></ul><h4>Data Records</h4><p>The Intel HEX file is made up of any number of data records that are terminated with a carriage return and a linefeed. Data records appear as follows:</p>

<pre>:10246200464C5549442050524F46494C4500464C33
</pre>

<p>This record is decoded as follows:</p>

<pre>:10246200464C5549442050524F46494C4500464C33
|||||||||||                              CC-&gt;Checksum
|||||||||DD-&gt;Data
|||||||TT-&gt;Record Type
|||AAAA-&gt;Address
|LL-&gt;Record Length
:-&gt;Colon
</pre>

<p>where:</p><ul><li><b>10</b> is the number of data bytes in the record.</li><li><b>2462</b> is the address where the data are to be located in memory.</li><li><b>00</b> is the record type 00 (a data record).</li><li><b>464C...464C</b> is the data.</li><li><b>33</b> is the checksum of the record.</li></ul><h4>Extended Linear Address Records (HEX386)</h4><p>Extended linear address records are also known as 32-bit address records and HEX386 records. These records contain the upper 16 bits (bits 16-31) of the data address. The extended linear address record always has two data bytes and appears as follows:</p>

<pre>:02000004FFFFFC
</pre>

<p>where:</p><ul><li><b>02</b> is the number of data bytes in the record.</li><li><b>0000</b> is the address field. For the extended linear address record, this field is always 0000.</li><li><b>04</b> is the record type 04 (an extended linear address record).</li><li><b>FFFF</b> is the upper 16 bits of the address.</li><li><b>FC</b> is the checksum of the record and is calculated as<br>01h + NOT(02h + 00h + 00h + 04h + FFh + FFh).</li></ul><p>When an extended linear address record is read, the extended linear address stored in the data field is saved and is applied to subsequent records read from the Intel HEX file. The linear address remains effective until changed by another extended address record.</p><p>The absolute-memory address of a data record is obtained by adding the address field in the record to the shifted address data from the extended linear address record. The following example illustrates this process..</p>

<pre>Address from the data record's address field      2462
Extended linear address record data field     FFFF
                                              --------
Absolute-memory address                       FFFF2462
</pre>


<h4>Extended Segment Address Records (HEX86)</h4><p>Extended segment address records-also known as HEX86 records-contain bits 4-19 of the data address segment. The extended segment address record always has two data bytes and appears as follows:</p>

<pre>:020000021200EA
</pre>

<p>where:</p><ul><li><b>02</b> is the number of data bytes in the record.</li><li><b>0000</b> is the address field. For the extended segment address record, this field is always 0000.</li><li><b>02</b> is the record type 02 (an extended segment address record).</li><li><b>1200</b> is the segment of the address.</li><li><b>EA</b> is the checksum of the record and is calculated as<br>01h + NOT(02h + 00h + 00h + 02h + 12h + 00h).</li></ul><p>When an extended segment address record is read, the extended segment address stored in the data field is saved and is applied to subsequent records read from the Intel HEX file. The segment address remains effective until changed by another extended address record.</p><p>The absolute-memory address of a data record is obtained by adding the address field in the record to the shifted-address data from the extended segment address record. The following example illustrates this process.</p>

<pre>Address from the data record's address field     2462
Extended segment address record data field      1200
                                             --------
Absolute memory address                      00014462
</pre>


<h4>Start Linear Address Records (MDK-ARM only)</h4><p>Start linear address records specify the start address of the application. These records contain the full linear 32 bit address. The start linear address record always has four data bytes and appears as follows:</p>

<pre>:04000005000000CD2A
</pre>

<p>where:</p><ul><li><b>04</b> is the number of data bytes in the record.</li><li><b>0000</b> is the address field. For the start linear address record, this field is always 0000.</li><li><b>05</b> is the record type 05 (a start linear address record).</li><li><b>000000CD</b> is the 4 byte linear start address of the application.</li><li><b>2A</b> is the checksum of the record and is calculated as<br>01h + NOT(04h + 00h + 00h + 05h + 00h + 00h + 00h + CDh).</li></ul><p>The Start Linear Address specifies the address of the __main (pre-main) function but not the address of the startup code which usually calls __main after calling SystemInit(). An odd linear start address specifies that __main is compiled for the Thumb instruction set.</p><p>The Start Linear Address Record can appear anywhere in hex file. In most cases this record can be ignored because it does not contain information which is needed to program flash memory.</p><h4>End-of-File (EOF) Records</h4><p>An Intel HEX file must end with an end-of-file (EOF) record. This record must have the value 01 in the record type field. An EOF record always appears as follows:</p>

<pre>:00000001FF
</pre>

<p>where:</p><ul><li><b>00</b> is the number of data bytes in the record.</li><li><b>0000</b> is the address where the data are to be located in memory. The address in end-of-file records is meaningless and is ignored. An address of 0000h is typical.</li><li><b>01</b> is the record type 01 (an end-of-file record).</li><li><b>FF</b> is the checksum of the record and is calculated as<br>01h + NOT(00h + 00h + 00h + 01h).</li></ul><h4>Example Intel HEX File</h4><p>Following is an example of a complete Intel HEX file:</p>

<pre>:10001300AC12AD13AE10AF1112002F8E0E8F0F2244
:10000300E50B250DF509E50A350CF5081200132259
:03000000020023D8
:0C002300787FE4F6D8FD7581130200031D
:10002F00EFF88DF0A4FFEDC5F0CEA42EFEEC88F016
:04003F00A42EFE22CB
:00000001FF
</pre>


<h3>FORUM THREADS</h3><p>The following <a href="http://www.keil.com/forum/">Discussion Forum</a> threads may provide information related to this topic.</p><ul><li><a href="http://www.keil.com/forum/docs/thread21455.asp">Reading .hex file</a></li><li><a href="http://www.keil.com/forum/docs/thread19017.asp">Need some help in programming 8051 with keil C</a></li><li><a href="http://www.keil.com/forum/docs/thread18224.asp">HEX386(H167) or HEX-86?</a></li><li><a href="http://www.keil.com/forum/docs/thread17360.asp">Intel HEX - Start Linear Address Record</a></li><li><a href="http://www.keil.com/forum/docs/thread11717.asp">HEX file in LPC2000 Flash Utility</a></li><li><a href="http://www.keil.com/forum/docs/thread11542.asp">Program size calculation</a></li><li><a href="http://www.keil.com/forum/docs/thread9548.asp">How do you convert a HEX file to ASCII</a></li><li><a href="http://www.keil.com/forum/docs/thread9891.asp">hex format</a></li><li><a href="http://www.keil.com/forum/docs/thread9295.asp">Can LOAD file to a specified memory area ?</a></li><li><a href="http://www.keil.com/forum/docs/thread8541.asp">problem with the size of the hex file obtained from the code banking application</a></li></ul><p class="TabNotes">Last Reviewed: Wednesday, December 07, 2011</p><hr><form action="http://www.keil.com/support/fb_support.asp" method="post"><table class="Form" style="margin:12px auto 0 auto"><tbody><tr><th>Did this article provide the answer you needed?</th></tr><tr><td>&nbsp;</td></tr><tr><td><div style="white-space:nowrap;width:30%;margin:0 auto;font:bold 10pt verdana, sans-serif;color:#900"><input style="vertical-align:middle" type="radio" value="YES" name="Helped" checked=""> Yes<br><input style="vertical-align:middle" type="radio" value="NO" name="Helped"> No<br><input style="vertical-align:middle" type="radio" value="UNSURE" name="Helped"> Not Sure</div></td></tr><tr><td>&nbsp;</td></tr><tr><td class="BAR"><input type="hidden" name="Title" value="GENERAL: INTEL HEX FILE FORMAT"> <input type="hidden" name="Number" value="1584"> <input type="submit" value="Submit"></td></tr></tbody></table></form></div></td></tr><tr><td class="Bot" colspan="2"><table><tbody><tr class="Menu"><td class="LMenu"><a title="Contact Details" href="http://www.keil.com/company/contact/">Contact</a> <a title="Site Map" href="http://www.keil.com/siteindx.asp">Site Map</a> <a title="Press Releases" href="http://www.keil.com/pr/">Press</a> <a title="Privacy Information" href="http://www.keil.com/company/privacy/">Privacy</a></td><td class="RMenu"><a title="Copyright Information" href="http://www.keil.com/company/copyright.asp">Copyright</a> © 2012 <a title="ARM Ltd and ARM Germany GmbH, Corporate Information" href="http://www.keil.com/company/">ARM Ltd and ARM Germany GmbH.</a> All rights reserved.</td></tr></tbody></table></td></tr></tbody></table><script src="./GENERAL  INTEL HEX FILE FORMAT_files/t6_ptg.js" type="text/javascript"></script><noscript>&lt;div&gt;&lt;img src="/_images/ptg.gif?js=0" height=1 width=1 alt="" title="" style="border:none"&gt; &lt;/div&gt;</noscript><script type="text/javascript">var gaJsHost=(("https:"==document.location.protocol)?"https://ssl.":"http://www.");document.write(unescape("%3Cscript src='"+gaJsHost+"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script src="./GENERAL  INTEL HEX FILE FORMAT_files/ga.js" type="text/javascript"></script> <script type="text/javascript">try{var pageTracker=_gat._getTracker("UA-3800502-2");pageTracker._trackPageview();var pageTracker=_gat._getTracker("UA-28874257-1");pageTracker._trackPageview();}
catch(err){}</script> <span id="real-url-span" style="display:none">/support/docs/1584.asp</span> </body></html>